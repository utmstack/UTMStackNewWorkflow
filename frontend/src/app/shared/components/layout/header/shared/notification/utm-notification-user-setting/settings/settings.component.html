<app-utm-modal-header [name]="'Profile settings'"></app-utm-modal-header>
<div class="p-3">
  <form #settingsForm="ngForm" (ngSubmit)="save()" *ngIf="settingsAccount"
        name="form" novalidate role="form">
    <div class="form-group">
      <label class="" for="firstName">First Name</label>
      <input #firstNameInput="ngModel" [(ngModel)]="settingsAccount.firstName" class="form-control" id="firstName"
             maxlength=50
             minlength=1 name="firstName" required
             type="text">
      <div *ngIf="firstNameInput.dirty && firstNameInput.invalid">
        <small *ngIf="firstNameInput.errors.required"
               class="form-text text-danger">
          Your first name is required.
        </small>
        <small *ngIf="firstNameInput.errors.minlength"
               class="form-text text-danger">
          Your first name is required to be at least 1 character.
        </small>
        <small *ngIf="firstNameInput.errors.maxlength"
               class="form-text text-danger">
          Your first name cannot be longer than 50 characters.
        </small>
      </div>
    </div>
    <div class="form-group">
      <label class="" for="lastName">Last Name</label>
      <input #lastNameInput="ngModel" [(ngModel)]="settingsAccount.lastName" class="form-control" id="lastName"
             maxlength=50
             minlength=1 name="lastName" required type="text">
      <div *ngIf="lastNameInput.dirty && lastNameInput.invalid">
        <small *ngIf="lastNameInput.errors.required"
               class="form-text text-danger">
          Your last name is required.
        </small>
        <small *ngIf="lastNameInput.errors.minlength"
               class="form-text text-danger">
          Your last name is required to be at least 1 character.
        </small>
        <small *ngIf="lastNameInput.errors.maxlength"
               class="form-text text-danger">
          Your last name cannot be longer than 50 characters.
        </small>
      </div>
    </div>
    <div class="form-group">
      <label class="" for="email">Email</label>
      <input #emailInput="ngModel" [(ngModel)]="settingsAccount.email" class="form-control" email id="email"
             maxlength="254" minlength="5" name="email" required
             type="email">
      <div *ngIf="emailInput.dirty && emailInput.invalid">
        <small *ngIf="emailInput.errors.required"
               class="form-text text-danger">
          Your email is required.
        </small>
        <small *ngIf="emailInput.errors.email"
               class="form-text text-danger">
          Your email is invalid.
        </small>
        <small *ngIf="emailInput.errors.minlength"
               class="form-text text-danger">
          Your email is required to be at least 5 characters.
        </small>
        <small *ngIf="emailInput.errors.maxlength"
               class="form-text text-danger">
          Your email cannot be longer than 100 characters.
        </small>
          <small *ngIf="emailInput.errors.emailInUse"
                 class="form-text text-danger">
            Email is already in use.
          </small>
      </div>
    </div>
    <div class="w-100 pt-2 d-flex justify-content-end">
      <button (click)="activeModal.close()"
              class="btn utm-button utm-button-grey mr-3">
        Cancel
      </button>
      <button [disabled]="settingsForm.form.invalid" class="btn utm-button utm-button-primary" type="submit">
        <i class="icon-user-check"></i>&nbsp;Save
      </button>
    </div>
  </form>

</div>
