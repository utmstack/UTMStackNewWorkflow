<app-utm-modal-header [name]="'Save query'" class="w-100"></app-utm-modal-header>
<div class="container-fluid p-3">
  <form [formGroup]="queryForm" action="" class="form">
    <div class="form-group">
      <label class="pb-1" for="name">Name</label>
      <input [ngClass]="inputClassResolve.resolveClassInput(queryForm.get('name'))" class="border-1 border-grey-600 form-control" formControlName="name"
             id="name"
             name="name">
      <app-formcontrol-error [formcontrol]="queryForm.get('name')"></app-formcontrol-error>
    </div>
    <div class="form-group">
      <label class="pb-1" for="description">Description</label>
      <textarea class="border-1 border-grey-600 form-control" formControlName="description" id="description"
                name="name">
      </textarea>
    </div>
  </form>

  <div class="mt-3">
    <app-utm-toggle (toggleChange)="saveAsNew($event)" *ngIf="query" [active]="false"
                    label="Save as new query?">
    </app-utm-toggle>
  </div>
  <div class="button-container d-flex justify-content-end mt-4">
    <button (click)="activeModal.close()" class="btn utm-button utm-button-grey mr-3">
      <i class="icon-cancel-circle2"></i>&nbsp;
      Cancel
    </button>
    <button (click)="saveQuery()"
            [disabled]="!queryForm.valid"
            class="btn utm-button utm-button-primary
             d-flex justify-content-center
              align-items-center">
      <i *ngIf="creating" class="icon-spinner2 spinner"></i>&nbsp;
      Save query
    </button>
  </div>
</div>

