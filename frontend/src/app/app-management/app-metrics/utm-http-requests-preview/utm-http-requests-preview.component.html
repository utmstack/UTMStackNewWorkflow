<div class="m-0 card h-100">
  <div class="card-header card-header-chart p-2 d-flex
   justify-content-between align-items-center bg-white">
    <label class="card-title text-blue-800">
      HTTP requests by code status
    </label>

  </div>
  <div class="card-body p-3">
    <div *ngFor="let entry of (httpPreview.percode | keys)" class="mt-3">
      <div class="d-flex justify-content-between align-items-center mb-1">
        <span class="flex-grow-1">Status code: <b>{{entry.key}}</b></span>
        <span>
          Requests: {{entry.value.count}}
        </span>
        <span class="ml-5">
          Response time(mean): {{entry.value.mean | number: '1.0-2'}} seconds
        </span>
      </div>
      <ngb-progressbar
        [animated]="true"
        [striped]="false"
        [value]="(100 * entry.value.count) / httpPreview.all.count"
        height="3px"
        [type]="(entry.key === '200' || entry.key === '201')?'success':'danger'">
      </ngb-progressbar>
      <div class="d-flex justify-content-center align-items-center">
        <span>{{ (entry.value.count * 100) / httpPreview.all.count | number: '1.0-3' }}%</span>
      </div>

    </div>
    <div class="font-weight-semibold mt-3">Total HTTP requests: {{ httpPreview.all.count  }}</div>
  </div>
</div>
